<VirtualHost *:80>
    ServerName portal.cliente1.br

    RewriteEngine On
    ProxyPreserveHost On
    ProxyRequests Off
    ProxyAddHeaders On

    # Acessa o portal est√°tico
    RewriteRule ^/$ http://portal_c1:80/ [P,L]

    # Rotas do frontend (SPA)
    RewriteRule ^/(assets|documents)/(.*)$ http://sign-app:80/$1/$2 [P,L]

    # Rota principal do app (React/Vue/Angular)
    RewriteRule ^/sign(.*)$ http://sign-app:80/$1 [P,L]
</VirtualHost>


<VirtualHost *:80>
    ServerName sign.cliente1.br

    RewriteEngine On
    ProxyPreserveHost On
    ProxyRequests Off
    ProxyAddHeaders On

    <Proxy *>
        Require all granted
    </Proxy>

    # Tudo vai para o frontend
    RewriteRule ^/(.*)$ http://sign-app:80/$1 [P,L]
</VirtualHost>
